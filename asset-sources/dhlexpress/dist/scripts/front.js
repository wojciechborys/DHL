!function(t){"use strict";t.widget("custom.combobox",{_create:function(){this.wrapper=t("<span>").addClass("combobox-wrapper").insertAfter(this.element),this.element.hide(),this._createAutocomplete()},_createAutocomplete:function(){var e=this.element.children(":selected"),a=e.val()?e.text():"";this.input=t("<input>").appendTo(this.wrapper).val(a).addClass("form-control content-calc__input content-calc__input--text content-calc__input--country ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({delay:0,minLength:0,position:{at:"left bottom",my:"left top",collision:"flip"},source:t.proxy(this,"_source")}).focus(function(){var e=t(this);e.autocomplete("instance").search(e.val())}),this._on(this.input,{autocompleteselect:function(t,e){e.item.option.selected=!0,this._trigger("select",t,{item:e.item.option})},autocompletechange:"_removeIfInvalid"})},_source:function(e,a){var l=new RegExp("^"+t.ui.autocomplete.escapeRegex(e.term),"i");a(this.element.children("option").map(function(){var a=t(this).text();if(this.value&&(!e.term||l.test(a)))return{label:a,value:a,option:this}}))},_removeIfInvalid:function(e,a){if(!a.item){var l=this.input.val(),n=l.toLowerCase(),i=!1;this.element.children("option").each(function(){if(t(this).text().toLowerCase()===n)return this.selected=i=!0,!1}),i||(this.input.val(""),this.element.val(""),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}})}(jQuery),function(t,e,a){"use strict";var l,n=(t("#contact-us-form"),{content:"",title:"",html:!0,trigger:"manual",placement:"bottom"}),i=t("[data-calc-field]");i.filter('[data-calc-field="country"]').combobox({inputClass:"form-control"}),i.filter('[data-calc-field="calculate"]').on("click",function(c){var o,s,r,u,d,p={},h=i,f=t("[data-calc-results]"),v=t("[data-calc-result]",f),m=1,g=!1,_=t(".content-calc__calculator .content-calc__input--country").val(),b=t(".content-calc__calculator .content-calc__input--postal").val(),w=t(".content-calc__calculator .content-calc__input--weight").val();if(c.preventDefault(),v.removeClass("content-calc__result--visible"),h.not("button").each(function(){var l,i,c,o=t(this),s=this.getAttribute("data-calc-field"),r=!1;"country"===s?(c=t(this).val(),p.code=c,c?(p[s]=a.countryUtil.code2country(p.code),p[s]?++m:r="invalid",p.zone=a.countryUtil.code2zone(p.code),d=a.getTransitTime(p.code)):(r="empty",p[s]=!1,p.zone=!1,d=!1)):"postal"===s?(++m,p[s]=t(this).val()):(c=window.parseFloat(t(this).val()),i=a.config.ranges[s].min||.1,l=a.config.ranges[s].max||120,c>=i&&c<=l?++m:(r=c>l?"over":"below","weight"===s?triggerAnalyticsEvent("Calculator","calculate","fail_weight"):g||(triggerAnalyticsEvent("Calculator","calculate","fail_dimension"),g=!0)),p[s]=c),r?("country"===s?o.closest("label").find(".ui-autocomplete-input").addClass("content-calc__input--invalid"):o.addClass("content-calc__input--invalid"),o.parent().data("hasPopover")&&o.parent().popover("dispose").data("hasPopover",!1),o.parent().one("input autocompleteselect",function(e){var a=t(this).off("input").off("autocompleteselect");(-1!==e.target.className.indexOf("ui-autocomplete-input")?t(e.target):a.children()).removeClass("content-calc__input--invalid"),a.data("hasPopover")&&a.popover("dispose").data("hasPopover",!1)}).popover(t.extend({},n,{content:e.calcValidation[s][r]})).data("hasPopover",!0).popover("show")):"country"===s?o.closest("label").find(".ui-autocomplete-input").removeClass("content-calc__input--invalid"):o.removeClass("content-calc__input--invalid")}),m!==h.length)return void f.removeClass("content-calc__results--has-results");if(u=new a.CalcValues(p),r=a.getCost(u),a.postalUtil.byCode(p.postal)?t(".content-calc__result").show().eq(2).hide():t(".content-calc__result").show().eq(2).show(),s=f.hasClass("content-calc__results--has-results"),s||f.addClass("content-calc__results--has-results"),o=function(){var e,a,l,n,i,c,o,s,u,p;for(e in r){if(a=t('[data-calc-result="'+e+'"]',f).removeClass("content-calc__result--visible"),d&&(l=t("[data-shipment-time]",a),n=d+" ","1"===d.trim()?n+=l.attr("data-singular"):n+=l.attr("data-plural"),l.text(n)),r[e]*=100,c=r[e]%100,i=c>0?parseInt(r[e]-c):r[e],i/=100,c=0===c?"00":c<10?"0"+c.toString().substr(0,1):c.toString().substr(0,2),i){if("normal"!==a.attr("data-result-version"))for(a.attr("data-result-version","normal"),a.attr("data-alt-class")&&a.removeClass(a.attr("data-alt-class")),o=t("[data-alt-text]",a),u=0;u<o.length;++u)s=o.get(u),p=s.getAttribute("data-alt-text"),p.length&&(s.setAttribute("data-alt-text",o.eq(u).html()),s.innerHTML=p)}else{if("alt"!==a.attr("data-result-version"))for(a.attr("data-result-version","alt"),a.attr("data-alt-class")&&a.addClass(a.attr("data-alt-class")),o=t("[data-alt-text]",a),u=0;u<o.length;++u)s=o.get(u),p=s.getAttribute("data-alt-text"),p.length&&(s.setAttribute("data-alt-text",o.eq(u).text()),s.innerHTML=p);i=c="--"}a.find('[data-price="zl"]').text(i),a.find('[data-price="gr"]').text(c)}v.addClass("content-calc__result--visible"),t("html,body").animate({scrollTop:f.offset().top},600)},s?(window.clearTimeout(l),l=window.setTimeout(o,1e3)):o(),t(".content-calc__results").hasClass("content-calc__results--has-results")){var C=window.dataLayer||[];C.push({event:"calculate",kraj:_,waga:w,"kod-pocztowy":b}),console.log(C)}}),t("[data-offer-btn]").on("click",function(t){switch(this.getAttribute("data-offer-btn")){case"walk":triggerAnalyticsEvent("Offer","click","Walk");break;case"click":triggerAnalyticsEvent("Offer","click","Click");break;case"call":this.getAttribute("data-tel").length&&triggerAnalyticsEvent("Offer","click","Call");break;case"sign":triggerAnalyticsEvent("Form","open","Offer")}}),t("[data-advantages-btn]").on("click",function(t){switch(this.getAttribute("data-advantages-btn")){case"walk":triggerAnalyticsEvent("Profits","click","Walk");break;case"click":triggerAnalyticsEvent("Profits","click","Click");break;case"call":this.getAttribute("data-tel").length&&triggerAnalyticsEvent("Profits","click","Call")}}),t("[data-document-link]").on("click",function(t){triggerAnalyticsEvent("Documents","click",this.getAttribute("data-document-link"))}),t("[data-toggle-form]").on("click",function(e){e.preventDefault(),t("html,body").animate({scrollTop:0},600)}),t("[data-tel]").on("mouseover",function(e){this.getAttribute("data-tel").length&&(e.preventDefault(),t(this).text("tel:"+this.getAttribute("data-tel")).attr("data-tel","").addClass("btn--phone-icon"))}),t("[data-tel]").on("mouseout",function(e){e.preventDefault(),t(this).attr("data-tel",t(this).text().substr(4)).text(t(this).data("cta")).removeClass("btn--phone-icon")})}(jQuery,DhlFrontConfig,window.shipmentCalc);
//# sourceMappingURL=front.js.map
